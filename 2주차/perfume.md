## 4장 주석

주석은 쓰지 않는 것이 좋습니다. 다시 한 번 말씀드리자면, **주석은 쓰지 않는 것이 좋습니다.** 코드는 그 자체로 설명 가능해야 하기 때문입니다. 의도를 알기 어려운 코드를 설명해주는 주석은 어떻냐고요? 주석을 다는 게 아니라 코드를 의도를 알기 쉽도록 다시 짜는 편이 좋습니다. <br/>

### 왜 주석이 나쁠까요?

**1. 주석은 불필요한 정보를 전달합니다.** <br/>

읽는 것만으로 이해할 수 있는 코드에 일일이 주석을 다는 것은 쓸데없이 중복되는 정보를 전달하는 것과 마찬가지입니다. 도움이 되기는 커녕, 코드의 가독성을 해치기만 합니다.<br/>

**2. 주석은 잘못된 정보를 제공합니다.** <br/>

주석은 보통 상세히 적기 보다는 제멋대로 축약해서 적는 경우가 많기 때문에, 읽는 이를 돕기 위해 단 주석이지만 오히려 주석이 코드에 대한 오해를 불러 일으키는 경우가 있습니다. 더욱이 주석은 리팩토링의 대상이 아닐 때가 많아서, 오래된 정보로 읽는 사람에게 혼돈을 가져다 줄 수 있습니다.

### 주석을 덜어내려면 어떻게 해야 할까요?

가장 중요한 것은 너무 당연한 사실, 또는 있으나 마나 한 정보를 제공하는 주석을 작성하지 않는 것입니다. 부차적으로는 두 가지 팁이 있습니다.

#### 버전관리 시스템을 활용하세요

```
/**
 * 2016-12-20: 이해하지 못해서 모나드를 제거함 (RM)
 * 2016-10-01: 특별한 모나드를 사용해 개선함 (JP)
 * 2016-02-03: 타입 체킹 추가함 (LI)
 * 2015-03-14: combine 함수를 구현함 (JR)
 */
function combine(a: number, b: number): number {
  return a + b;
}
```

위와 같은 일기를 주석으로 남길 필요가 없습니다. 우리에겐 버전 관리 시스템이 있습니다. 기록을 보고 싶다면 저런 주석 대신 `git log` 명령어를 활용하세요. 혹시나 하는 마음에 사용하지 않는 코드를 주석으로 남겨둘 필요도 없습니다. 이 역시 버전 관리 시스템에 전부 기록되어 있습니다.

#### IDE의 기능을 적극 활용하세요

코드의 위치를 설명해주는 주석은 달 필요 없습니다. 함수와 변수 이름을 적절한 들여쓰기와 서식으로 단번에 시각적인 구조가 보이도록 하세요. 코드블록 접기 등을 통해서 가시성을 높일 수도 있습니다. <br/>
<br/>
또한 추후에 개선을 위해 코드에 메모를 남겨야할 때, TODO 주석을 활용할 수 있는데요. 대다수 IDE에서 TODO 주석 전부를 찾아서 보여주는 기능을 제공하니, 주기적으로 점검해서 없애도 괜찮은 주석은 없애는 것을 권장합니다. <br/>

## 5장 형식 맞추기

코드를 짤 때 일정한 형식을 맞추는 것은 너무나도 중요합니다. 일단 '돌아가는 코드'를 짜는 게 중요하다 느껴질 수도 있습니다. 하지만 오늘 구현한 기능이 다음 버전에서 바뀔 확률은 아주 높지만, 오늘 구현한 코드의 가독성은 앞으로 바뀔 코드의 품질에 지대한 영향을 미칩니다. <br/>
<br/>
그럼 그 형식을 어떻게 맞추면 좋을지 아래에서 함께 살펴보겠습니다.

### 적절한 행의 길이 유지하기

일반적으로 큰 파일보다 작은 파일이 이해하기 쉽습니다. 수천 줄을 사용하지 않아도 커다란 시스템을 구축할 수 있으니 길이 자체가 짧은 것이 좋습니다. 하지만 이것은 반드시 지켜야 하는 엄격한 규칙은 아니고, 지키면 바람직한 규칙입니다. 그런데 적절한 행의 규칙을 지킬 때 참고하면 좋은 몇 가지 팁이 있습니다.

**1. 두괄식으로 작성하라** <br/>

신문기사처럼 소스 파일도 두괄식으로 중요한 부분이 앞에 나오는 것이 좋습니다. 소스 파일 첫 부분은 고차원 개념과 알고리즘을 설명하고, 아래로 내려갈 수록 의도를 세세하게 묘사합니다. 마지막에는 가장 저차원 함수와 세부 내역이 나오게 합니다.
<br/>
**2. 개념은 빈 행으로 분리하라**<br/>

각 행은 수식이나 절을 나타내고, 일련의 행 묶음은 완결된 생각 하나를 표현합니다. 생각 사이는 빈 행을 넣어 분리해야 합니다. 빈 행은 새로운 개념을 시작한다는 시각적 단서이기 때문입니다.<br/>

**3. 세로 밀집도** <br/>

줄바꿈이 개념을 분리한다면 세로 밀집도는 **연관성**을 의미합니다. 여기서 말하는 연관성은 한 개념을 이해하는 데 다른 개념이 중요한 정도입니다. 즉, 서로 밀접한 관련이 있는 코드들은 세로로 가까이에 둬야 한다는 뜻입니다. 특별한 이유가 없다면 서로 밀접한 개념은 한 파일에 속해야 하기도 하고요. (이게 바로 Protected 변수를 피해야 하는 이유 중 하나입니다.) 연관성이 깊은 두 개념이 멀리 떨어져 있으면 코드를 읽는 사람이 소스 파일을 여기저기 뒤지게 됩니다. <br/>

- 변수는 사용하는 위치에 최대한 가까이 선언합니다. <br/>
- 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치합니다. 또한 가능하다면 호출하는 함수를 호출되는 함수보다 먼저 배치합니다. <br/>
- 비슷한 동작을 수행하는 일군의 함수처럼 개념적으로 유사한 함수들을 가까이 배치합니다.
